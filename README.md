# 랜덤 음식 추첨기  
매일 점심과 저녁 메뉴를 랜덤으로 추천해주는 간단한 웹 서비스입니다.

## 사용 기술

- **Frontend**: HTML, CSS, JavaScript  
- **Backend**: Java, Spring Boot, JPA  
- **Database**: PostgreSQL  
- **Infra**: Docker

## 배포 주소  
👉 [https://dalcol.shop](https://dalcol.shop)

## 개선표
| 항목                     | 과거         | 현재 (캐시 전) | 현재 (캐시 후, 단기) | 개선 내용                  |
|--------------------------|--------------|----------------|------------------------|----------------------------|
| 총 요청 수               | 18,780건     | 29,516건       | 29,988건              | 약 1.6배 증가              |
| 성공률                  | 100% (0 실패) | 100% (0 실패)  | 100% (0 실패)         | 동일                       |
| 평균 응답 시간           | 606.23ms     | 20.54ms        | 8.08ms                | 약 75배 향상               |
| 중간값(Median)          | 410.94ms     | 11.06ms        | 4.52ms                | 대폭 감소                  |
| 최대 응답 시간           | 3.91s        | 327.68ms       | 204.23ms              | 약 19배 향상               |
| P90 응답 시간            | 1.45s        | 36.5ms         | 17.61ms               | 고지연 응답 개선           |
| P95 응답 시간            | 1.87s        | 62.2ms         | 23.5ms                | 고지연 응답 개선           |
| Iteration 수            | 18,780       | 29,516         | 29,988                | 처리량 증가                |
| 평균 Iteration Duration | 1.61s        | 1.02s          | 1.01s                 | 속도 개선                  |
| VUs 평균/최대           | 277 / 500    | 290 / 500      | 482 / 500             | 약 1.74배 증가             |
| 데이터 수신량            | 4.7MB        | 5.5MB          | 5.6MB                 | 증가                       |
| 데이터 송신량            | 3.6MB        | 5.4MB          | 4.6MB                 | 증가                       |



## 개선 예정 사항

### 2025-05-12
1. ~~서버 재시작 시 세션이 유지되어 정보가 초기화되지 않음 → 세션/캐시 정리 필요~~
2. ~~점심/저녁 메뉴 구분 컬럼을 DB에 추가 예정~~
3. ~~해외 IP 접속 차단 기능 도입 (오후 6시 ~ 오후 7시 이후)~~

### 2025-05-17
1.~~K6 부하테스트 임계점 찾기~~
2. 성능개선

### 2025.05.24 - 2025.05.25
1. 프론트 백 uuid관련 보안 취약함 -> 수정해야함
2. 성능 개선
3. 서버 개선

### 2025.05.25
1. ~~백엔드 코드 싹다 지우고 다시하기~~
2. ~~js코드 또한 다 지우고 다시하기~~
3. 점심,저녁 선택 하고 돌릴 시 /api?type=0/1이런식으로 요청 보내기로 수정 -> 취소
4. ~~뽑은 히스토리 /api?type=0/1로 구분해서 클라에서 관리하는게 아닌 서버에서 관리하기 -> 클라에서 관리로 수정~~
5. ~~세션을 통해 관리하기 -> 세션에서 uuid로 관리~~

### 2025.05.26
1. DB 인덱싱을 통한 속도 개선

### 2025-06-07
1. js를 이용하여 리스트 10개이상만 보이게 조절하기
